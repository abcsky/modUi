/*! builded Mon Mar 16 2015 00:57:26 */

var jnsCalendar=function(){var a={type:"date",format:"YYYY-MM-DD",callback:function(){},onclean:function(){},vDistance:20,startDateInput:null,endDateInput:null,selectSameDate:!0,dateRangeStart:null,dateRangeEnd:null,zIndex:"100",onload:function(){},appendTarget:document.body},b={};b.console=function(a){"undefined"!=typeof console&&console.log(a)},b.selector=function(a){function b(a,b){return f.getElementById(b)}function c(a,b){for(var c,d,e,f,g,h=[].concat(a),i=h.length,j=[],k=0;i>k;k++)if(c=h[k]){d=c.getElementsByTagName("*"),e=d.length;for(var l=0;e>l;l++){f=d[l].className.split(" "),g=f.length;for(var m=0;g>m;m++)if(f[m]==b){j=j.concat(d[l]);break}}}return j}function d(a,b){for(var c,d,e,f=[].concat(a),g=f.length,h=[],i=0;g>i;i++)if(c=f[i]){d=c.getElementsByTagName(b),e=d.length;for(var j=0;e>j;j++)h=h.concat(d[j])}return h}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(b==a[c])return!0;return!1}var f=document;if("object"==typeof a)return a;if("string"==typeof a){for(var g=a.split(/\s*,\s*/g),h=[],i=0,j=g.length;j>i;i++){var k,l,m=g[i],n=m.split(/\s+/),o=n.length,p=f;if(1===o&&"#"==n[0].substr(0,1))p=f.getElementById(n[0].substr(1));else if(f.querySelectorAll)p=f.querySelectorAll(a);else for(var q=0;o>q;q++)if(k=n[q],l=k.length,0!==l)switch(k.substr(0,1)){case"#":p=b(p,k.substr(1));break;case".":p=c(p,k.substr(1));break;default:p=d(p,k)}if(p)if("length"in p)if(0==i)for(var q=0,r=p.length;r>q;q++)h.push(p[q]);else for(var q=0,r=p.length;r>q;q++)e(h,p[q])?"":h.push(p[q]);else 0==i?h.push(p):e(h,p)?"":h.push(p)}return 0===h.length?!1:1===h.length?h[0]:h}},b.each=function(a,b){if(a){("undefined"==typeof a.length||"SELECT"==a.tagName)&&(a=[a]);for(var c=0,d=a.length;d>c;c++)b.call(a[c],c,a[c])}},b.bind=function(a,c,d){if("function"==typeof d&&a&&"string"==typeof c){var e=function(b){d.call(a,b)},f=function(){};a.addEventListener?f=function(b){a.addEventListener(b,e,!1)}:a.attachEvent&&(f=function(b){a.attachEvent("on"+b,e)}),d.jnsBindKey||(d.jnsBindKey=[]),b.each(c.split(/[ ]+/g),function(){var b=this+"";f(b),d.jnsBindKey.push({target:a,type:b,bindKey:e})})}},b.unbind=function(a,c,d){if("function"==typeof d&&a&&"string"==typeof c){var e,f,g=function(){};a.removeEventListener?g=function(b,c){a.removeEventListener(b,c,!1)}:a.detachEvent&&(g=function(b,c){a.detachEvent("on"+b,c)}),b.each(c.split(/[ ]+/g),function(){if(f=this+"",d.jnsBindKey)for(var b=0,c=d.jnsBindKey.length;c>b;b++){var h=d.jnsBindKey[b];if(h.target==a&&h.type==f){e=h.bindKey,d.jnsBindKey.splice(b,1);break}}else e=d;g(f,e)})}},b.addClass=function(a,b){var c=a.className;if(c){for(var d=c.split(/\s+/),e=0,f=d.length;f>e;e++)if(d[e]===b)return;a.className=c+" "+b}else a.className=b},b.removeClass=function(a,b){var c=a.className;if(c){for(var d=c.split(/\s+/),e=0,f=d.length;f>e;e++)d[e]===b&&(d[e]="");a.className=d.join(" ")}},b.stopBubble=function(a){a=a||window.event,a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},b.trigger=function(a,b){var c=document;if(c.createEvent){var d=c.createEvent("HTMLEvents");d.initEvent(b,!1,!0),a.dispatchEvent(d)}else c.createEventObject&&a.fireEvent("on"+b)},b.addStyle=function(a,b){var c=document;if("string"==typeof a&&""!=a){if("undefined"==typeof b)b="jnsStyleSheet"+Math.round(1e3*Math.radom(0,1));else if(c.getElementById(b))return;var d=c.getElementsByTagName("head")[0],e=c.createElement("style");e.type="text/css",e.id=b,e.styleSheet?e.styleSheet.cssText=a:e.textContent=a,d.appendChild(e)}},b.css=function(a,b,c){if(a&&"undefined"!=typeof a.style&&"string"==typeof b)if("undefined"!=typeof c)a.style[b]=c;else{var d=a.style[b];if(d)return d;try{return a.currentStyle?a.currentStyle[b]:document.defaultView.getComputedStyle(a,!1)[b]}catch(e){return null}}},b.isBelong=function(a,b){for(var c=b;c;c=c.parentNode)if(c===a)return!0},b.getPosition=function(a,b){b=b||window;for(var c=a,d=a,e=a.getBoundingClientRect(),f=c.offsetLeft,g=c.offsetTop;c=c.offsetParent;)f+=c.offsetLeft,g+=c.offsetTop;for(;d=d.parentNode;)d.scrollTop&&(g-=d.scrollTop),d.scrollLeft&&(f-=d.scrollLeft);return{left:f,top:g,right:document.body.scrollLeft+e.right,bottom:document.body.scrollTop+e.bottom}},b.format={toDate:function(a){var b;switch(typeof a){case"string":b=new Date(a.split("-").join("/"));break;case"object":b=new Date(a)}return"Invalid Date"==b&&(b=null),b}},b.preventDefault=function(a){a=a||window.event,"preventDefault"in a?a.preventDefault():"returnValue"in a&&(a.returnValue=!1)};var c,d,e,f=!1;arguments[0]?d=b.selector(arguments[0]):"",arguments[1]?c=arguments[1]:"";var g={tri:null,prevBtn:null,nextBtn:null,mArea01:null,mArea01Title:null,mArea01Content:null,mArea01dateBox:null,mArea01dateList:null,mArea01MoonBox:null,mArea01MoonList:null,mArea01YearBox:null,mArea01YearList:null,mArea02:null,mArea02Title:null,mArea02Content:null,mArea02dateBox:null,mArea02dateList:null,mArea02MoonBox:null,mArea02MoonList:null,mArea02YearBox:null,mArea02YearList:null,hourInput:null,hourPopup:null,hourList:null,minuteInput:null,minutePopup:null,minuteList:null,secondInput:null,secondPopup:null,secondList:null,secondFrag:null,startDateInput:null,endDateInput:null,msgArea:null,cleanBtn:null,okBtn:null,curDate01:null,curDate02:null,focusMonth:null},h=function(){var a="jnsCalendarStyleheet",c=[".jns-cld{ background:#666; color:#474747; }",".jns-cld_tri{ color:#666;}",".jns-cld_main{ border-color:#004588; background-color:#fff;}",".jns-cld_prevbtn,",".jns-cld_nextbtn{ color:#fff;}",'.jns-cld_head_bg{ border-top-color:#4dcdf3; background:#0098d2; background:-webkit-gradient(linear,0 0,0 100%,from(#00b3eb),to(#00367a)); background:-moz-linear-gradient(top,#00b3eb,#00367a); background:-o-linear-gradient(top,#00b3eb,#00367a);  background:-ms-linear-gradient(top,#00b3eb,#00367a);  filter:progid:DXImageTransform.Microsoft.gradient(enabled=true,GradientType:0,startColorstr="#00b3eb",endColorstr="#00367a"); }',".jns-cld_content{}",".jns-cld_mainbox_head,",".jns-cld_mainbox_head_tl{ color:#fff;}",'.jns-cld_main_cldlist dt{ background:#f6f6f6; background:-webkit-gradient(linear,0 0,0 100%,from(#fcfcfc),to(#e8e7e8)); background:-moz-linear-gradient(top,#fcfcfc,#e8e7e8); background:-o-linear-gradient(top,#fcfcfc,#e8e7e8); background:-ms-linear-gradient(top,#fcfcfc,#e8e7e8); filter:progid:DXImageTransform.Microsoft.gradient(enabled=true,GradientType:0,startColorstr="#fcfcfc",endColorstr="#e8e7e8"); font-weight:normal;}',".jns-cld_mainbox .jns-cld_main_cldlist dd a:hover,",".jns-cld_mainbox .jns-cld_main_cldlist dd a.jns-cld_hover,",".jns-cld_popup_list dd a:hover{ border-color:#448aca; background-color:#eef7fe;}",".jns-cld_mainbox .jns-cld_main_cldlist dd a.jns-cld_cur,",'.jns-cld_popup_list a.jns-cld_cur{ border-color:#448aca !important; background-color:#c5e0f5; color:#002e73; background:-webkit-gradient(linear,0 0,0 100%,from(#cce3f4),to(#a9d2f2)); background:-moz-linear-gradient(top,#cce3f4,#a9d2f2); background:-o-linear-gradient(top,#cce3f4,#a9d2f2); background:-ms-linear-gradient(top,#cce3f4,#a9d2f2); filter:progid:DXImageTransform.Microsoft.gradient(enabled=true,GradientType:0,startColorstr="#cce3f4",endColorstr="#a9d2f2");}',".jns-cld_sun,","dd.jns-cld_sun  a{ color:#f60;}",".jns-cld_mon{}",".jns-cld_tus{}",".jns-cld_wed{}",".jns-cld_fur{}",".jns-cld_fri{}",".jns-cld_sat,","dd.jns-cld_sat  a{ color:#f60;}",".jns-cld_datebox .jns-cld_main_cldlist dd.jns-cld_today a{ font-weight:bold; border-color:#448aca; background-color:#eef7fe; position:relative; z-index:2;}","dd.jns-cld_highLight,","dd.jns-cld_highLight a{ color:#f60;}","dd.jns-cld_grid,","dd.jns-cld_grid a{ background-color:#ddd; color:#828282 !important;}","dd.jns-cld_grid a:hover{ background-color:#ddd !important; color:#828282; border-color:#bbb}","dd.jns-cld_disable,","dd.jns-cld_disable a{ color:#ccc; cursor:default; }","dd.jns-cld_disable a:hover{ border-color:#bbb !important; background:none !important;}","dd.jns-cld_disable a.jns-cld_cur,","dd.jns-cld_disable a.jns-cld_cur:hover{ border-color:#448aca !important; background:none !important; filter:none !important;}",".jns-cld_moonbox dd.jns-cld_disable a:hover,",".jns-cld_moonbox dd.jns-cld_disable a.jns-cld_cur,",".jns-cld_moonbox dd.jns-cld_disable a.jns-cld_cur:hover{ border-color:#fff !important; background:none !important;}",".jns-cld_yearbox dd.jns-cld_disable a:hover,",".jns-cld_yearbox dd.jns-cld_disable a.jns-cld_cur,",".jns-cld_yearbox dd.jns-cld_disable a.jns-cld_cur:hover{ border-color:#fff !important; background:none !important;}",".jns-cld_monthbox dd.jns-cld_grid,",".jns-cld_monthbox dd.jns-cld_grid a,",".jns-cld_monthbox dd.jns-cld_grid a:hover,",".jns-cld_yearbox dd.jns-cld_grid,",".jns-cld_yearbox dd.jns-cld_grid a,",".jns-cld_yearbox dd.jns-cld_grid a:hover{ background:none !important; border-color:#828282; color:#828282}",".jns-cld_red{ color:#f00;}",".jns-cld_orange{ color:#f60;}",".jns-cld_popupbox{ background-color:#386b96;}",".jns-cld_popup_tri{}",".jns-cld_btn_style01{ border:1px solid #999; background:#f9f9f9; color:#474747;}",".jns-cld_btn_style01:hover{border-color:#666; background:#fff; color:#333;}",".jns-cld_btn_style01_disable,",".jns-cld_btn_style01_disable:hover{border:1px solid #bbb; background:#f2f2f3; color:#7b7b7b;}",".jns-cld_error{ border:1px solid red !important; color:red !important;}",".jns-cld{ display:none; margin:0; padding:5px; position:absolute; text-align:left; font:12px/1.5 arial,'\\5b8b\\4f53',sans-serif; -webkit-box-shadow:0 0 3px #000; -moz-box-shadow:0 0 3px #000; box-shadow:0 0 3px #000; border-radius:5px;}",".jns-cld a{ text-decoration:none;}",".jns-cld_cur{ display:block;}",".jns-cld_disable{ cursor:default !important;}",".jns-cld_c1{ width:223px;}",".jns-cld_c2{ width:439px;}",".jns-cld_c2 .jns-cld_mainbox{ float:left; display:inline; margin-left:5px;}",".jns-cld_c2 .jns-cld_content{ padding-left:0;}",".jns-cld_c2 .jns-cld_foot_lt{ margin-left:0;}",".jns-cld_tri{ position:absolute; font-size:12px; font-style:normal;  margin:0; padding:0; width:1em; height:1em; line-height:1.2;}",".jns-cld_tri_top{ top:-0.5em;}",".jns-cld_tri_bottom{ bottom:-0.5em; _bottom:-0.7em;}",".jns-cld_tri_left{ left:-0.5em;}",".jns-cld_tri_right{ right:-0.5em;}",".jns-cld_main{ position:relative; border-width:1px; border-style:solid; overflow:hidden; zoom:1;}",".jns-cld_prevbtn,",".jns-cld_nextbtn{ position:absolute; z-index:2; top:2px; width:0.5em; font-size:12px; -webkit-text-size-ajust:none; height:1.2em; margin:0; padding:0; overflow:hidden; cursor:pointer;}",".jns-cld_prevbtn{ left:5px;}",".jns-cld_nextbtn{ right:5px; text-indent:-5px;}",".jns-cld_head_bg{ height:20px; border-top-width:1px; border-top-style:solid;}",".jns-cld_content{ padding:5px; z-index:1; zoom:1; position:relative;}",'.jns-cld_content:after{ content:"."; display:block; height:0; overflow:hidden; clear:both;}',".jns-cld_mainbox{ position:relative; height:170px; width:211px; z-index:2;}",".jns-cld_mainbox_head{ position:absolute; top:-25px; left:0; width:100%; height:20px; text-align:center; line-height:20px; font-size:12px; font-weight:bold;}",".jns-cld_mainbox_head_tl{ display:block; margin:0 20px;}",".jns-cld_mainbox_content{ zoom:1;}",'.jns-cld_mainbox_content:after{ content:"."; display:block; height:0; overflow:hidden; clear:both;}',".jns-cld_main_cldlist{ position:relative; zoom:1; margin:0; padding:0; font-size:12px; list-style:none; border-left:1px solid #bbb; border-top:1px solid #bbb; width:210px;}",'.jns-cld_main_cldlist:after{ content:"."; display:block; height:0; overflow:hidden; clear:both;}',".jns-cld_main_cldlist a{ color:#474747;}",".jns-cld_main_cldlist dt,",".jns-cld_main_cldlist dd{ float:left; list-style:none;text-align:center; margin:-1px 0 0 -1px; font-size:12px;}",".jns-cld_main_cldlist dd a.jns-cld_cur{ position:relative; z-index:3; }",".jns-cld_main_cldlist dd a{ display:block; margin:-1px; text-align:center;}",".jns-cld_main_cldlist dd a:hover{ position:relative; z-index:2;}",".jns-cld_main_cldlist .jns-cld_sat{}",".jns-cld_maincell{ position:absolute; top:0; left:0; width:100%; visibility:hidden;}",".jns-cld_maincell_cur{ visibility:visible;}",".jns-cld_datebox{}",".jns-cld_datebox .jns-cld_main_cldlist dt,",".jns-cld_datebox .jns-cld_main_cldlist dd,",".jns-cld_datebox .jns-cld_main_cldlist dd a{ width:29px; height:23px; line-height:23px; border:1px solid #bbb;}",".jns-cld_moonbox{}",".jns-cld_moonbox .jns-cld_main_cldlist{ border-color:#fff;}",".jns-cld_moonbox .jns-cld_main_cldlist dt,",".jns-cld_moonbox .jns-cld_main_cldlist dd,",".jns-cld_moonbox .jns-cld_main_cldlist dd a{ width:51px; height:55px; line-height:53px; border:1px solid #fff;}",".jns-cld_yearbox{}",".jns-cld_yearbox .jns-cld_main_cldlist{ border-color:#fff;}",".jns-cld_yearbox .jns-cld_main_cldlist dt,",".jns-cld_yearbox .jns-cld_main_cldlist dd,",".jns-cld_yearbox .jns-cld_main_cldlist dd a{ width:51px; height:55px; line-height:53px; border:1px solid #fff;}",".jns-cld_foot{ position:relative; z-index:3; zoom:1; padding:0 5px 5px;}",'.jns-cld_foot:after{ content:"."; display:block; height:0; overflow:hidden; clear:both;}',".jns-cld_foot_lt{ float:left; margin-left:5px; display:inline;}",".jns-cld_foot_rt{ float:right;}",".jns-cld_input_style01{ display:inline-block; height:16px; line-height:16px; width:15px; margin-right:3px; padding:1px; border:1px solid #fff; color:#474747; background:#fff; overflow:visible; cursor:pointer; outline:none;}",".jns-cld_input_style01_hover{ color:#004588;}",".jns-cld_input_style01_cur{ background-color:#fcfcfc; border-color:#004588;}",".jns-cld_input_style01_txt{ display:inline-block; height:16px; line-height:16px; margin-right:3px;}",".jns-cld_input_style02{ display:inline-block; height:16px; line-height:16px; width:65px; margin-right:3px; padding:1px 15px; border:1px solid #bbb; color:#7b7b7b; background:#f2f2f3; cursor:pointer; outline:none;}",".jns-cld_input_style02_cur{ background-color:#f9f9f9; border-color:#666; color:#333;}",".jns-cld_input_style02_error{ background-color:#feeeee; border-color:#f00; color:#a50000}",".jns-cld_input_style02_txt{ display:inline-block; height:16px; line-height:16px; margin-right:3px;}",".jns-cld_popupbox{ position:absolute; bottom:32px; left:5px; width:207px; padding:2px; visibility:hidden;}",".jns-cld_popupbox_cur{ visibility:visible;}",".jns-cld_popup_tri{ position:absolute; bottom:-8px; width:0; height:0; border:4px dashed transparent; border-top:4px solid #386b96; overflow:hidden;}",".jns-cld_popup_content{ margin:0; padding:2px; background:#fff; border:1px solid #004588;}",".jns-cld_popup_list{ zoom:1; margin:0; padding:0; font-size:12px; list-style:none; border-left:1px solid #fff; border-top:1px solid #fff; width:200px;}",'.jns-cld_popup_list:after{ content:"."; display:block; height:0; overflow:hidden; clear:both;}',".jns-cld_popup_list dd{ float:left; list-style:none; border:1px solid #fff; text-align:center; margin:-1px 0 0 -1px; font-size:12px;}",".jns-cld_popup_list a{  display:block; border:1px solid #fff; margin:-1px; text-align:center; color:#474747;}",".jns-cld_popup_list a.jns-cld_cur{ position:relative; z-index:2;}",".jns-cld_popup_list dd a:hover{ position:relative; z-index:2;}",".jns-cld_pop_hour{}",".jns-cld_pop_hour .jns-cld_popup_tri{ left:12px; }",".jns-cld_pop_hour .jns-cld_popup_list dd,",".jns-cld_pop_hour .jns-cld_popup_list a{width:32px; height:19px; line-height:19px; }",".jns-cld_pop_min{}",".jns-cld_pop_min .jns-cld_popup_tri{ left:40px;}",".jns-cld_pop_min .jns-cld_popup_list dd,",".jns-cld_pop_min .jns-cld_popup_list a{width:19px; height:19px; line-height:19px; }",".jns-cld_pop_sec{}",".jns-cld_pop_sec .jns-cld_popup_tri{ left:67px;}",".jns-cld_pop_sec .jns-cld_popup_list dd,",".jns-cld_pop_sec .jns-cld_popup_list a{width:19px; height:19px; line-height:19px; }",".jns-cld_btn_style01{ display:inline-block; vertical-align:middle; height:19px; margin-left:5px; line-height:19px; padding:0 10px;}",".jns-cld_btn_style01:hover{}",".jns-cld_btn_style01_txt{ display:inline-block; vertical-align:middle; height:19px; line-height:19px; margin-left:5px; overflow:hidden;}",".jns-cld_btn_style01_disable{ cursor:default; }",'.jns-cld_tips{ position:absolute; top:0; left:0; z-index:3; width:100px; text-align:center; font:12px/1.5 Arial,"b8bf53",sans-serif;}',".jns-cld_tips_content{ display:inline-block; *display:inline; *zoom:1; padding:0px 5px; border:1px solid #666; background:#fff; border-radius:5px; text-align:left;}",".jns-cld_tips_tri,",".jns-cld_tips_tri2{ position:absolute; bottom:-0.5em; left:50%; -webkit-text-size-adjust:none; font-size:10px; display:block; width:1em; height:0.5em; margin-left:-0.5em; overflow:hidden; line-height:1;}",".jns-cld_tips_tri{ z-index:1; bottom:-0.5em; color:#666;}",".jns-cld_tips_tri2{ z-index:2; bottom:-0.4em; color:#fff;}",".jns-cld_tips_tri i,",".jns-cld_tips_tri2 i{ display:block;font-style:normal; margin-top:-0.5em;}"].join("\n");b.addStyle(c,a)},i=function(c){var d=this;b.bind(c,"focus",function(){e.srcTarget=this,f=!0,d.show(this)}),"intervalTime"==a.type&&(c==a.endDateInput&&c!=a.startDateInput?b.bind(c,"focus",function(){m("end")}):b.bind(c,"focus",function(){m("start")}))},j=function(){var c=document,j=this,o=new Date;if(g.allowDateStart=a.dateRangeStart,g.allowDateEnd=a.dateRangeEnd,"intervalTime"!=a.type||"intervalTime"==a.type&&a.selectSameDate)u(o,"date")||(a.dateRangeEnd&&o>a.dateRangeEnd&&(o=a.dateRangeEnd),a.dateRangeStart&&o<a.dateRangeStart&&(o=a.dateRangeStart));else{var p=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1);u(o,"date")&&u(p,"date")||(a.dateRangeEnd&&p>a.dateRangeEnd&&(o=new Date(a.dateRangeEnd.getFullYear(),a.dateRangeEnd.getMonth(),a.dateRangeEnd.getDate()-1)),a.dateRangeStart&&o<a.dateRangeStart&&(o=a.dateRangeStart))}var q=o.getFullYear(),r=o.getMonth(),s=o.getDate();switch(g.curDate01=new Date(q,r,s),g.curDate02=a.selectSameDate?g.curDate01:new Date(q,r,s+1),g.focusMonth=new Date(q,r),h(),e=c.createElement("div"),a.zIndex&&(e.style.zIndex=a.zIndex),a.type){case"dateTime":k(),y();break;case"date":k();break;case"intervalTime":l()}b.each(d,function(){if("input"==this.tagName.toLowerCase())i.call(j,this);else{if(b.bind(this,"click",function(){e.srcTarget||(e.srcTarget=this),e.srcTarget==this?"intervalTime"==a.type&&f&&this==a.startDateInput&&"end"==g.focusType||this==a.endDateInput&&"start"==g.focusType?(j.hide(),j.show(this)):(f=!f,f?j.show(this):j.hide()):(e.srcTarget=this,f?(j.hide(),j.show(this)):(f=!0,j.show(this)))}),"intervalTime"!=a.type)return;this==a.endDateInput&&this!=a.startDateInput?b.bind(this,"click",function(){m("end")}):b.bind(this,"click",function(){m("start")})}}),"intervalTime"!=a.type?(g.okBtn.onclick=function(){t(g.curDate01,e.srcTarget),A(),a.callback(g.curDate01)},g.cleanBtn.onclick=function(){"INPUT"==d.tagName&&"button"!=d.type&&"submit"!=d.type&&(d.value=""),a.onclean(g.curDate01,g.curDate02)}):(g.okBtn.onclick=function(){g.startDateInput.isOk&&g.endDateInput.isOk&&(t(g.curDate01,a.startDateInput),t(g.curDate02,a.endDateInput),A(),a.callback(g.curDate01,g.curDate02))},g.cleanBtn.onclick=function(){a.startDateInput&&"INPUT"==a.startDateInput.tagName&&"button"!=a.startDateInput.type&&"submit"!=a.startDateInput.type&&(a.startDateInput.value=""),a.endDateInput&&"INPUT"==a.endDateInput.tagName&&"button"!=a.endDateInput.type&&"submit"!=a.endDateInput.type&&(a.endDateInput.value=""),g.curDate02=g.curDate01=new Date(q,r,s),g.endDateInput.value=g.startDateInput.value=q+"-"+r+"-"+s,m("start"),a.onclean(g.curDate01,g.curDate02)},b.bind(g.startDateInput,"focus",function(){m("start")}),b.bind(g.endDateInput,"focus",function(){m("end")}),g.startDateInput.onkeyup=function(){var a=new Date(this.value.split("-").join("/"));isNaN(Number(a))||!u(a,"date")||a>g.curDate02?(b.addClass(this,"jns-cld_error"),g.startDateInput.isOk=!1):(b.removeClass(this,"jns-cld_error"),g.startDateInput.isOk=!0,g.curDate01=new Date(a.getFullYear(),a.getMonth(),a.getDate()),x()),n()},g.endDateInput.onkeyup=function(){var a=new Date(this.value.split("-").join("/"));isNaN(Number(a))||!u(a,"date")||a<g.curDate01?(b.addClass(this,"jns-cld_error"),g.endDateInput.isOk=!1):(b.removeClass(this,"jns-cld_error"),g.endDateInput.isOk=!0,g.curDate02=new Date(a.getFullYear(),a.getMonth(),a.getDate()),x()),n()},g.startDateInput.value=g.curDate01.getFullYear()+"-"+(g.curDate01.getMonth()+1)+"-"+g.curDate01.getDate(),g.endDateInput.value=g.curDate02.getFullYear()+"-"+(g.curDate02.getMonth()+1)+"-"+g.curDate02.getDate(),g.startDateInput.isOk=g.endDateInput.isOk=!0)},k=function(){if(e.className="jns-cld jns-cld_c1",e.innerHTML=['<i class="jns-cld_tri">&#9670;</i>','<div class="jns-cld_main">','<a href="javascript:;" class="jns-cld_prevbtn">&#9670;</a>','<a href="javascript:;" class="jns-cld_nextbtn">&#9670;</a>','<div class="jns-cld_head_bg"></div>','<div class="jns-cld_content">','<div class="jns-cld_mainbox">','<div class="jns-cld_mainbox_head">','<a href="javascript:;" class="jns-cld_mainbox_head_tl"></a>',"</div>",'<div class="jns-cld_mainbox_content">','<div class="jns-cld_maincell jns-cld_datebox jns-cld_maincell_cur">','<div class="jns-cld_mainbox_content">',"</div>","</div>",'<div class="jns-cld_maincell jns-cld_moonbox">','<div class="jns-cld_mainbox_content">',"</div>","</div>",'<div class="jns-cld_maincell jns-cld_yearbox">','<div class="jns-cld_mainbox_content">',"</div>","</div>","</div>","</div>","</div>",'<div class="jns-cld_foot">','<div class="jns-cld_foot_lt">',"dateTime"==a.type?['<input class="jns-cld_input_style01" type="text" value="" />','<div class="jns-cld_popupbox jns-cld_pop_hour">','<i class="jns-cld_popup_tri"></i>','<div class="jns-cld_popup_content">','<dl class="jns-cld_popup_list"></dl>',"</div>","</div>",'<span class="jns-cld_input_style01_txt">:</span>','<input class="jns-cld_input_style01" type="text" value="" />','<div class="jns-cld_popupbox  jns-cld_pop_min">','<i class="jns-cld_popup_tri"></i>','<div class="jns-cld_popup_content">','<dl class="jns-cld_popup_list"></dl>',"</div>","</div>",'<span class="jns-cld_input_style01_txt">:</span>','<input class="jns-cld_input_style01" type="text" value="" />','<div class="jns-cld_popupbox jns-cld_pop_sec">','<i class="jns-cld_popup_tri"></i>','<div class="jns-cld_popup_content">','<dl class="jns-cld_popup_list"></dl>',"</div>","</div>"].join(""):"","</div>",'<div class="jns-cld_foot_rt">','<a href="javascript:;" class="jns-cld_btn_style01">清除</a>','<a href="javascript:;" class="jns-cld_btn_style01">确定</a>',"</div>","</div>","</div>",'<iframe style="position: absolute; top: 0px; left: 0px; z-index:-1; width: 233px; height: 239px; opacity:0.1; filter:alpha(opacity=1);" frameborder="0" src="about:blank"></iframe>'].join(""),g.tri=e.children[0],g.prevBtn=e.children[1].children[0],g.nextBtn=e.children[1].children[1],g.mArea01=e.children[1].children[3].children[0],g.mArea01Title=g.mArea01.children[0].children[0],g.mArea01Content=g.mArea01.children[1],g.mArea01dateBox=g.mArea01Content.children[0],g.mArea01dateList=g.mArea01dateBox.children[0].children[0],g.mArea01MoonBox=g.mArea01Content.children[1],g.mArea01MoonList=g.mArea01MoonBox.children[0].children[0],g.mArea01YearBox=g.mArea01Content.children[2],g.mArea01YearList=g.mArea01YearBox.children[0].children[0],"dateTime"==a.type){var b=e.children[1].children[4].children[0];g.hourInput=b.children[0],g.hourPopup=b.children[1],g.hourList=g.hourPopup.children[1].children[0],g.minuteInput=b.children[3],g.minutePopup=b.children[4],g.minuteList=g.minutePopup.children[1].children[0],g.secondFrag=b.children[5],g.secondInput=b.children[6],g.secondPopup=b.children[7],g.secondList=g.secondPopup.children[1].children[0]}var c=e.children[1].children[4].children[1];g.cleanBtn=c.children[0],g.okBtn=c.children[1]},l=function(){e.className="jns-cld jns-cld_c2",e.innerHTML=['<i class="jns-cld_tri">&#9670;</i>','<div class="jns-cld_main">','<a href="javascript:;" class="jns-cld_prevbtn">&#9670;</a>','<a href="javascript:;" class="jns-cld_nextbtn">&#9670;</a>','<div class="jns-cld_head_bg"></div>','<div class="jns-cld_content">','<div class="jns-cld_mainbox">','<div class="jns-cld_mainbox_head">','<a href="javascript:;" class="jns-cld_mainbox_head_tl"></a>',"</div>",'<div class="jns-cld_mainbox_content">','<div class="jns-cld_maincell jns-cld_datebox jns-cld_maincell_cur">','<div class="jns-cld_mainbox_content">','<dl class="jns-cld_main_cldlist">',"</dl>","</div>","</div>",'<div class="jns-cld_maincell jns-cld_moonbox">','<div class="jns-cld_mainbox_content">','<dl class="jns-cld_main_cldlist">',"</dl>","</div>","</div>",'<div class="jns-cld_maincell jns-cld_yearbox">','<div class="jns-cld_mainbox_content">','<dl class="jns-cld_main_cldlist">',"</dl>","</div>","</div>","</div>","</div>",'<div class="jns-cld_mainbox">','<div class="jns-cld_mainbox_head">','<a href="javascript:;" class="jns-cld_mainbox_head_tl"></a>',"</div>",'<div class="jns-cld_mainbox_content">','<div class="jns-cld_maincell jns-cld_datebox jns-cld_maincell_cur">','<div class="jns-cld_mainbox_content">','<dl class="jns-cld_main_cldlist">',"</dl>","</div>","</div>",'<div class="jns-cld_maincell jns-cld_moonbox">','<div class="jns-cld_mainbox_content">','<dl class="jns-cld_main_cldlist">',"</dl>","</div>","</div>",'<div class="jns-cld_maincell jns-cld_yearbox">','<div class="jns-cld_mainbox_content">','<dl class="jns-cld_main_cldlist">',"</dl>","</div>","</div>","</div>","</div>","</div>",'<div class="jns-cld_foot">','<div class="jns-cld_foot_lt">','<input class="jns-cld_input_style02" type="text" value="" />','<span class="jns-cld_input_style02_txt">-</span>','<input class="jns-cld_input_style02" type="text" value="" />',"</div>",'<div class="jns-cld_foot_rt">','<span class="jns-cld_btn_style01_txt"></span>','<a href="javascript:;" class="jns-cld_btn_style01">清除</a>','<a href="javascript:;" class="jns-cld_btn_style01">确定</a>',"</div>","</div>","</div>",'<iframe style="position: absolute; z-index:-1; top: 0px; left: 0px; width: 450px; height: 239px; opacity:0.1; filter:alpha(opacity=1);" frameborder="0" src="about:blank"></iframe>'].join(""),g.tri=e.children[0],g.prevBtn=e.children[1].children[0],g.nextBtn=e.children[1].children[1],g.mArea01=e.children[1].children[3].children[0],g.mArea01Title=g.mArea01.children[0].children[0],g.mArea01Content=g.mArea01.children[1],g.mArea01dateBox=g.mArea01Content.children[0],g.mArea01dateList=g.mArea01dateBox.children[0].children[0],g.mArea01MoonBox=g.mArea01Content.children[1],g.mArea01MoonList=g.mArea01MoonBox.children[0].children[0],g.mArea01YearBox=g.mArea01Content.children[2],g.mArea01YearList=g.mArea01YearBox.children[0].children[0],g.mArea02=e.children[1].children[3].children[1],g.mArea02Title=g.mArea02.children[0].children[0],g.mArea02Content=g.mArea02.children[1],g.mArea02dateBox=g.mArea02Content.children[0],g.mArea02dateList=g.mArea02dateBox.children[0].children[0],g.mArea02MoonBox=g.mArea02Content.children[1],g.mArea02MoonList=g.mArea02MoonBox.children[0].children[0],g.mArea02YearBox=g.mArea02Content.children[2],g.mArea02YearList=g.mArea02YearBox.children[0].children[0];var a=e.children[1].children[4].children[0];g.startDateInput=a.children[0],g.endDateInput=a.children[2];var b=e.children[1].children[4].children[1];g.msgArea=b.children[0],g.cleanBtn=b.children[1],g.okBtn=b.children[2]},m=function(c){switch(c){case"end":g.focusType="end",b.removeClass(g.startDateInput,"jns-cld_input_style02_cur"),b.addClass(g.endDateInput,"jns-cld_input_style02_cur"),g.allowDateStart=a.selectSameDate?g.curDate01:new Date(g.curDate01.getFullYear(),g.curDate01.getMonth(),g.curDate01.getDate()+1);break;case"start":default:g.focusType="start",b.addClass(g.startDateInput,"jns-cld_input_style02_cur"),b.removeClass(g.endDateInput,"jns-cld_input_style02_cur"),g.allowDateStart=a.dateRangeStart}x()},n=function(){g.startDateInput.isOk&&g.endDateInput.isOk?b.removeClass(g.okBtn,"jns-cld_btn_style01_disable"):b.addClass(g.okBtn,"jns-cld_btn_style01_disable")},o=function(c,d,f){var h=document,i=new Date(d,f),d=i.getFullYear(),f=i.getMonth(),j="datebox"+d+f,k=c.parentNode.parentNode.children[0].children[0],l=h.createDocumentFragment(),m=new Date;if(k.innerHTML=d+" 年 "+(f+1)+" 月",k.myMonth=f,k.myYear=d,"intervalTime"!=a.type?(k.onclick=function(){var a=this.parentNode.parentNode.children[1],b=a.children[1];v(a,"month"),p(b,this.myYear,this.myMonth)},b.removeClass(k,"jns-cld_disable")):b.addClass(k,"jns-cld_disable"),c.children.length>0&&l.appendChild(c.children[0]),!e[j]){e[j]=h.createElement("dl"),e[j].innerHTML=['<dt class="jns-cld_sun">日</dt>','<dt class="jns-cld_mon">一</dt>','<dt class="jns-cld_tus">二</dt>','<dt class="jns-cld_wed">三</dt>','<dt class="jns-cld_fur">四</dt>','<dt class="jns-cld_fri">五</dt>','<dt class="jns-cld_sat">六</dt>'].join(""),e[j].className="jns-cld_main_cldlist",e[j].prevElms=[],e[j].nextElms=[];for(var n=1,o=0,q=6;q>=n;n++)for(var t=0,w=7;w>t;t++){var z,A=h.createElement("dd"),B=0==t?"jns-cld_sun":1==t?"jns-cld_mon":2==t?"jns-cld_tus":3==t?"jns-cld_tus":4==t?"jns-cld_fur":5==t?"jns-cld_fri":6==t?"jns-cld_sat":"",C=null,D=new Date(d,f,1).getDay(),E=new Date(d,f+1,0).getDate();index=o++,D>index?(z=new Date(d,f,0),A.myDate=z.getDate()-D+index+1,A.myMonth=z.getMonth(),A.myYear=z.getFullYear(),"intervalTime"!=a.type?(B+=" jns-cld_grid",C=function(){b.trigger(g.prevBtn,"click")},e[j].prevElms.push(A)):(B+=" jns-cld_grid jns-cld_disable",C=function(){})):index>=D+E?(z=new Date(d,f+1),A.myDate=index-D-E+1,A.myMonth=z.getMonth(),A.myYear=z.getFullYear(),"intervalTime"!=a.type?(B+=" jns-cld_grid",C=function(){b.trigger(g.nextBtn,"click")},e[j].nextElms.push(A)):(B+=" jns-cld_grid jns-cld_disable",C=function(){})):(z=new Date(d,f,index-D+1),A.myDate=z.getDate(),A.myMonth=f,A.myYear=d,C="intervalTime"==a.type?function(){s.call(this)}:"dateTime"==a.type?function(){r.call(this),y.inputInit()}:function(){r.call(this),b.trigger(g.okBtn,"click")}),A.className=B,A.innerHTML='<a href="javascript:;">'+A.myDate+"</a>",A.onclick=C,e[j].appendChild(A)}}if(c.appendChild(e[j]),m=new Date(m.getFullYear(),m.getMonth(),m.getDate()),"intervalTime"!=a.type&&(g.curDate01.getMonth()!=f||g.curDate01.getFullYear()!=d)){for(var F=new Date(d,f,1);!u(F,"date")&&F.getMonth()==f;)F.setDate(F.getDate()+1);F.getMonth()==f&&(g.curDate01=g.curDate02=F,y.inputInit?y.inputInit():"")}var G=new Date(g.curDate01.getFullYear(),g.curDate01.getMonth(),g.curDate01.getDate()),H=new Date(g.curDate02.getFullYear(),g.curDate02.getMonth(),g.curDate02.getDate());b.each(e[j].getElementsByTagName("dd"),function(){var a=new Date(this.myYear,this.myMonth,this.myDate),c=this.children[0];this.myMonth==f&&(u(a,"date")?(b.removeClass(this,"jns-cld_disable"),c.onclick=null):(b.addClass(this,"jns-cld_disable"),c.onclick=function(){b.stopBubble()}),m-a==0?b.addClass(this,"jns-cld_today"):b.removeClass(this,"jns-cld_today"),c.className=a>=G&&H>=a?"jns-cld_cur":"")}),u(new Date(g.focusMonth.getFullYear(),g.focusMonth.getMonth(),0),"date")?(g.prevBtn.onclick=function(){g.focusMonth.setMonth(g.focusMonth.getMonth()-1),x()},b.removeClass(g.prevBtn,"jns-cld_disable"),b.each(e[j].prevElms,function(){b.removeClass(this,"jns-cld_disable")})):(g.prevBtn.onclick=null,b.addClass(g.prevBtn,"jns-cld_disable"),b.each(e[j].prevElms,function(){b.addClass(this,"jns-cld_disable")})),u(new Date(g.focusMonth.getFullYear(),g.focusMonth.getMonth()+1,1),"date")&&"intervalTime"!=a.type||u(new Date(g.focusMonth.getFullYear(),g.focusMonth.getMonth()+2,1),"date")&&"intervalTime"==a.type?(g.nextBtn.onclick=function(){g.focusMonth.setMonth(g.focusMonth.getMonth()+1),x()},b.removeClass(g.nextBtn,"jns-cld_disable"),b.each(e[j].nextElms,function(){b.removeClass(this,"jns-cld_disable")})):(g.nextBtn.onclick=null,b.addClass(g.nextBtn,"jns-cld_disable"),b.each(e[j].nextElms,function(){b.addClass(this,"jns-cld_disable")}))},p=function(c,d,f){var h=document,i="monthbox"+d,j=c.parentNode.parentNode.children[0].children[0],k=h.createDocumentFragment();if(j.innerHTML=d+" 年",j.myYear=d,j.onclick=function(){var a=this.parentNode.parentNode.children[1],b=a.children[2];v(a,"year"),q(b,this.myYear)
},b.removeClass(j,"jns-cld_disable"),c.children.length>0&&k.appendChild(c.children[0]),!e[i]){var l=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"];e[i]=h.createElement("dl"),e[i].className="jns-cld_main_cldlist";for(var m=0;12>m;m++){var n=h.createElement("dd");n.myYear=d,n.myMonth=m,n.innerHTML='<a href="javascript:;">'+l[m]+"</a>",n.onclick=function(){var a=this.parentNode.parentNode.parentNode,b=a.children[0];g.focusMonth.setMonth(this.myMonth),v(a,"date"),o(b,this.myYear,this.myMonth)},e[i].appendChild(n)}}c.appendChild(e[i]);var r=u(new Date(d,f,1),"month"),s=new Date(g.curDate01.getFullYear(),g.curDate01.getMonth()),t=new Date(g.curDate02.getFullYear(),g.curDate02.getMonth());if("intervalTime"!=a.type&&g.curDate01.getFullYear()!=d){for(var w=new Date(g.curDate01.getFullYear(),0,1);!u(w,"month")&&w.getFullYear()==d;)w.setMonth(w.getMonth()+1);w.getFullYear()==d&&(g.curDate01=g.curDate02=w)}b.each(e[i].getElementsByTagName("dd"),function(){var a=new Date(this.myYear,this.myMonth),c=this.children[0];u(a,"month")?(b.removeClass(this,"jns-cld_disable"),c.onclick=null):(b.addClass(this,"jns-cld_disable"),c.onclick=function(){b.stopBubble()}),c.className=r?this.myMonth==f?"jns-cld_cur":"":a>=s&&t>=a?"jns-cld_cur":""}),u(new Date(d,0,0),"month")?(g.prevBtn.onclick=function(){g.focusMonth.setFullYear(g.focusMonth.getFullYear()-1),p(g.mArea01MoonBox,g.focusMonth.getFullYear(),g.focusMonth.getMonth())},b.removeClass(g.prevBtn,"jns-cld_disable")):(g.prevBtn.onclick=null,b.addClass(g.prevBtn,"jns-cld_disable")),u(new Date(d+1,0,1),"month")?(g.nextBtn.onclick=function(){g.focusMonth.setFullYear(g.focusMonth.getFullYear()+1),p(g.mArea01MoonBox,g.focusMonth.getFullYear(),g.focusMonth.getMonth())},b.removeClass(g.nextBtn,"jns-cld_disable")):(g.nextBtn.onclick=null,b.addClass(g.nextBtn,"jns-cld_disable"))},q=function(c,d){var f=document,h=10*Math.floor(d/10),i=h+9,j="yearbox"+h+i,k=c.parentNode.parentNode.children[0].children[0],l=f.createDocumentFragment();if(k.innerHTML=h+" 年 - "+i+" 年",k.onclick=null,b.addClass(k,"jns-cld_disable"),c.children.length>0&&l.appendChild(c.children[0]),!e[j]){e[j]=f.createElement("dl"),e[j].className="jns-cld_main_cldlist",e[j].prevElms=[],e[j].nextElms=[];for(var m=h-1,n=i+1,o=m;n>=o;o++){var r,s=f.createElement("dd");s.myYear=o,s.innerHTML='<a href="javascript:;">'+o+"</a>",o==m||o==n?(o==m?(e[j].prevElms.push(s),r=function(){b.trigger(g.prevBtn,"click")}):(e[j].nextElms.push(s),r=function(){b.trigger(g.nextBtn,"click")}),s.className="jns-cld_grid"):r=function(){var a=this.parentNode.parentNode.parentNode,b=a.children[1];g.focusMonth.setFullYear(this.myYear),v(a,"month"),p(b,this.myYear,k.myMonth)},s.onclick=r,e[j].appendChild(s)}}c.appendChild(e[j]);{var t=u(new Date(d,1),"year");new Date(g.curDate01.getFullYear()),new Date(g.curDate02.getFullYear())}if("intervalTime"!=a.type){for(var w=new Date(g.curDate01.getFullYear(),0,1);!u(w,"month")&&w.getFullYear()==d;)w.setFullYear(w.getFullYear()+1);w.getFullYear()>=h&&w.getFullYear<=i&&(g.curDate01=g.curDate02=w)}b.each(e[j].getElementsByTagName("dd"),function(){var a=new Date(this.myYear,0,1),c=this.children[0];this.myYear>=h&&this.myYear<=i?(u(a,"year")?(b.removeClass(this,"jns-cld_disable"),c.onclick=null):(b.addClass(this,"jns-cld_disable"),c.onclick=function(){b.stopBubble()}),c.className=t?this.myYear==d?"jns-cld_cur":"":this.myYear>=g.curDate01.getFullYear()&&this.myYear<=g.curDate02.getFullYear()?"jns-cld_cur":""):u(a,"year")?b.removeClass(this,"jns-cld_disable"):b.addClass(this,"jns-cld_disable")}),u(new Date(h-1,0,1),"year")?(g.prevBtn.onclick=function(){g.focusMonth.setFullYear(g.focusMonth.getFullYear()-10),q(g.mArea01YearBox,g.focusMonth.getFullYear())},b.removeClass(g.prevBtn,"jns-cld_disable"),b.each(e[j].prevElms,function(){b.removeClass(this,"jns-cld_disable")})):(g.prevBtn.onclick=null,b.addClass(g.prevBtn,"jns-cld_disable"),b.each(e[j].prevElms,function(){b.addClass(this,"jns-cld_disable")})),u(new Date(i+1,0,1),"year")?(g.nextBtn.onclick=function(){g.focusMonth.setFullYear(g.focusMonth.getFullYear()+10),q(g.mArea01YearBox,g.focusMonth.getFullYear())},b.removeClass(g.nextBtn,"jns-cld_disable"),b.each(e[j].nextElms,function(){b.removeClass(this,"jns-cld_disable")})):(g.nextBtn.onclick=null,b.addClass(g.nextBtn,"jns-cld_disable"),b.each(e[j].nextElms,function(){b.addClass(this,"jns-cld_disable")}))},r=function(){var a=this,c=this.parentNode.getElementsByTagName("dd"),d=this.myDate,e=this.myYear,f=this.myMonth;g.curDate01.setFullYear(e),g.curDate01.setMonth(f),g.curDate01.setDate(d),g.curDate02=g.curDate01,b.each(c,function(){a==this?b.addClass(this.children[0],"jns-cld_cur"):b.removeClass(this.children[0],"jns-cld_cur")})},s=function(){var c=new Date(this.myYear,this.myMonth,this.myDate),d=c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate();switch(g.focusType){case"end":g.curDate02=c,g.endDateInput.value=d,g.endDateInput.isOk=!0,b.removeClass(g.endDateInput,"jns-cld_error"),m("start");break;case"start":default:g.curDate01=c,g.curDate02=new Date(this.myYear,this.myMonth,this.myDate),g.startDateInput.value=g.endDateInput.value=d,a.selectSameDate||(g.curDate02.setDate(g.curDate02.getDate()+1),g.endDateInput.value=g.curDate02.getFullYear()+"-"+(g.curDate02.getMonth()+1)+"-"+g.curDate02.getDate()),g.startDateInput.isOk=!0,b.removeClass(g.startDateInput,"jns-cld_error"),m("end")}n()},t=function(b,c){if(b&&c&&"INPUT"==c.tagName&&"button"!=c.type&&"submit"!=c.type){var d=b.getFullYear(),e=b.getMonth()+1,f=b.getDate();10>e&&(e="0"+e),10>f&&(f="0"+f);var g=a.format.replace(/YYYY/g,d).replace(/MM/g,e).replace(/DD/g,f);"dateTime"==a.type&&(g=g.replace(/hh/g,(b.getHours()<10?"0":"")+b.getHours()).replace(/mm/g,(b.getMinutes()<10?"0":"")+b.getMinutes()).replace(/ss/g,(b.getSeconds()<10?"0":"")+b.getSeconds())),c.value=g}},u=function(a,b){var c,d,e=g.allowDateStart,f=g.allowDateEnd;return"time"==b?(c=e?a>=new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds()):!0,d=f?a<=new Date(f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()):!0):"date"==b?(c=e?a>=new Date(e.getFullYear(),e.getMonth(),e.getDate()):!0,d=f?a<=new Date(f.getFullYear(),f.getMonth(),f.getDate()):!0):"month"==b?(c=e?a>=new Date(e.getFullYear(),e.getMonth(),1):!0,d=f?a<=new Date(f.getFullYear(),f.getMonth(),1):!0):"year"==b&&(c=e?a>=new Date(e.getFullYear(),0,1):!0,d=f?a<=new Date(f.getFullYear(),0,1):!0),c&&d},v=function(a,c){var d;switch(c){case"date":d=0;break;case"month":d=1;break;case"year":d=2}b.each(a.children,function(){arguments[0]==d?b.addClass(this,"jns-cld_maincell_cur"):b.removeClass(this,"jns-cld_maincell_cur")})},w=function(){var c=arguments.callee;clearTimeout(c.fixKey),setTimeout(function(){var d,f,h,i,j,k,l,m=document,n=a.vDistance,o=e.srcTarget.offsetWidth,p=e.srcTarget.offsetHeight,q=b.getPosition(e.srcTarget),r=q.left,s=q.top,t=g.tri.offsetWidth,u=b.getPosition(a.appendTarget),v=u.left,w=u.top,x=e?e.parentNode:a.appendTarget;x!=document.body?(i=x.offsetWidth,j=x.offsetHeight,k=x.scrollTop,l=x.scrollLeft):(i=m.documentElement.clientWidth,j=m.documentElement.clientHeight,k=m.body.scrollTop||m.documentElement.scrollTop,l=m.body.scrollLeft||m.documentElement.scrollLeft),r+=l+v,s+=k+w,c.cldWidth||(c.cldWidth=e.offsetWidth,c.cldHeight=e.offsetHeight),r+o/2+c.cldWidth/2>l+i?(d=l+i-c.cldWidth,h=r-d+o/2-t/2):r+o/2-c.cldWidth/2>l&&r+o/2+c.cldWidth/2<l+i?(d=r+o/2-c.cldWidth/2,h=(c.cldWidth-t)/2):(d=l,h=r-d+o/2-t/2),s+n+p+c.cldHeight>k+j&&s-n-c.cldHeight>k?(f=s-n-c.cldHeight,g.tri.className="jns-cld_tri jns-cld_tri_bottom"):(f=s+p+n,g.tri.className="jns-cld_tri jns-cld_tri_top"),e.style.top=f+"px",e.style.left=d+"px",g.tri.style.left=h+"px"},20)},x=function(){var b=g.focusMonth.getFullYear(),c=g.focusMonth.getMonth();v(g.mArea01Content,"date"),o(g.mArea01dateBox,b,c),"intervalTime"==a.type&&(v(g.mArea02Content,"date"),o(g.mArea02dateBox,b,c+1))},y=function(){var a=document,c=new Date,d=function(){b.addClass(this,"jns-cld_input_style01_hover")},e=function(){b.removeClass(this,"jns-cld_input_style01_hover")},f=function(){for(var a=this.srcPopup.getElementsByTagName("dd"),c=0,d=a.length;d>c;c++){var e=a[c],f=e.children[0].innerHTML;parseInt(f)==parseInt(this.value)?b.addClass(e.children[0],"jns-cld_cur"):b.removeClass(e.children[0],"jns-cld_cur")}},h=function(){b.addClass(this,"jns-cld_input_style01_cur"),b.addClass(this.srcPopup,"jns-cld_popupbox_cur"),f.call(this),this.isShow=!0},i=function(){b.removeClass(this,"jns-cld_input_style01_cur"),b.removeClass(this.srcPopup,"jns-cld_popupbox_cur"),this.isShow=!1},j=function(a,b){var c=g.curDate01.getFullYear(),d=g.curDate01.getMonth(),e=g.curDate01.getDate(),f=parseInt(g.hourInput.value)||0,h=parseInt(g.minuteInput.value)||0;switch(b){case"hour":return u(new Date(c,d,e,a),"time");case"minute":return u(new Date(c,d,e,f,a),"time");case"second":return u(new Date(c,d,e,f,h,a),"time")}},k=function(){if(j(c.getHours(),"hour"))g.curDate01.setHours(g.hourInput.value=c.getHours()<10?"0"+c.getHours():c.getHours()),g.hourInput.disabled=!1,g.hourInput.isOk=!0,l();else for(var a=0,d=23;d>=a;a++){if(j(a,"hour")){g.curDate01.setHours(g.hourInput.value=a),g.hourInput.disabled=!1,g.hourInput.isOk=!0,c.setMinutes(0),c.setSeconds(0),l();break}a==d&&(g.curDate01.setHours(g.hourInput.value=g.minuteInput.value=g.secondInput.value="00"),g.hourInput.disabled=g.minuteInput.disabled=g.secondInput.disabled=!0,g.hourInput.isOk=g.minuteInput.isOk=g.secondInput.isOk=!1)}var e,f;b.each(g.hourInput.srcDds,function(){var a=parseInt(this.children[0].innerHTML);j(a,"hour")?(b.removeClass(this,"jns-cld_disable"),"undefined"==typeof e?e=f=a:(a>f?f=a:"",e>a?e=a:"")):b.addClass(this,"jns-cld_disable")}),g.hourInput.minValue=parseInt(e),g.hourInput.maxValue=parseInt(f)},l=function(){if(j(c.getMinutes(),"minute"))g.curDate01.setMinutes(g.minuteInput.value=c.getMinutes()<10?"0"+c.getMinutes():c.getMinutes()),g.minuteInput.disabled=!1,g.minuteInput.isOk=!0,m();else for(var a=0,d=59;d>=a;a++){if(j(a,"minute")){g.curDate01.setMinutes(g.minuteInput.value=a),g.minuteInput.disabled=!1,g.minuteInput.isOk=!0,c.setSeconds(0),m();break}a==d&&(g.curDate01.setMinutes(g.minuteInput.value=g.secondInput.value="00"),g.minuteInput.disabled=g.secondInput.disabled=!0,g.minuteInput.isOk=g.secondInput.isOk=!1)}var e,f;b.each(g.minuteInput.srcDds,function(){var a=parseInt(this.children[0].innerHTML);j(a,"minute")?(b.removeClass(this,"jns-cld_disable"),"undefined"==typeof e?e=f=a:(a>f?f=a:"",e>a?e=a:"")):b.addClass(this,"jns-cld_disable")}),g.minuteInput.minValue=parseInt(e),g.minuteInput.maxValue=parseInt(f)},m=function(){if(j(c.getSeconds(),"second"))g.curDate01.setSeconds(g.secondInput.value="00"),g.secondInput.disabled=!1,g.secondInput.isOk=!0;else for(var a=0,d=59;d>=a;a++){if(j(a,"second")){g.curDate01.setSeconds(g.secondInput.value=a),g.secondInput.disabled=!1,g.secondInput.isOk=!0;break}a==d&&(g.curDate01.setSeconds(g.secondInput.value="00"),g.secondInput.disabled=!0,g.secondInput.isOk=!1)}var e,f;b.each(g.secondInput.srcDds,function(){var a=parseInt(this.children[0].innerHTML);j(a,"second")?(b.removeClass(this,"jns-cld_disable"),"undefined"==typeof e?e=f=a:(a>f?f=a:"",e>a?e=a:"")):b.addClass(this,"jns-cld_disable")}),g.secondInput.minValue=parseInt(e),g.secondInput.maxValue=parseInt(f)},n=function(){var a=this;b.each(this.srcDds,function(){b.bind(this,"click",function(){var c=this,d=this.parentNode.getElementsByTagName("dd");-1==this.className.indexOf("jns-cld_disable")&&(b.each(d,function(){var b=this.children[0];this===c?(a.value=b.innerHTML,b.className="jns-cld_cur"):b.className=""}),g.curDate01["set"+a.valueAttr](a.value),a.isOk=!0,b.removeClass(a,"jns-cld_error"),i.call(a))})})};arguments.callee.inputInit=k;for(var o=0;24>o;o++){var p=a.createElement("dd");p.myHour=o,o%3?"":p.className="jns-cld_highLight",p.innerHTML='<a href="javascript:;">'+(10>o?"0":"")+o+"</a>",g.hourList.appendChild(p)}for(var o=0;60>o;o++){var q=a.createElement("dd"),r=a.createElement("dd");q.myMinute=r.mySecond=o,o%5?"":q.className=r.className="jns-cld_highLight",q.innerHTML=r.innerHTML='<a href="javascript:;">'+(10>o?"0":"")+o+"</a>",g.minuteList.appendChild(q),g.secondList.appendChild(r)}g.hourInput.srcPopup=g.hourPopup,g.minuteInput.srcPopup=g.minutePopup,g.secondInput.srcPopup=g.secondPopup,g.hourInput.srcDds=g.hourPopup.getElementsByTagName("dd"),g.minuteInput.srcDds=g.minutePopup.getElementsByTagName("dd"),g.secondInput.srcDds=g.secondPopup.getElementsByTagName("dd"),g.hourInput.valueAttr="Hours",g.minuteInput.valueAttr="Minutes",g.secondInput.valueAttr="Seconds",g.hourInput.onmouseover=g.minuteInput.onmouseover=g.secondInput.onmouseover=d,g.hourInput.onmouseout=g.minuteInput.onmouseout=g.secondInput.onmouseout=e,g.hourInput.onfocus=g.minuteInput.onfocus=g.secondInput.onfocus=function(){var c=this,d=function(e){e=e||window.event;var f=a.elementFromPoint(e.clientX,e.clientY);c!==f&&c.isShow&&!b.isBelong(c.srcPopup,f)&&(i.call(c),clearTimeout(c.timeoutKey),b.unbind(a,"click",d))};h.call(this),clearTimeout(this.timeoutKey),b.unbind(a,"click",d),this.timeoutKey=setTimeout(function(){b.bind(a,"click",d)},1)},k(),n.call(g.hourInput),n.call(g.minuteInput),n.call(g.secondInput),g.hourInput.onblur=g.minuteInput.onblur=g.secondInput.onblur=function(){var a;switch(this){case g.hourInput:a="Hours";break;case g.minuteInput:a="Minutes";break;case g.secondInput:a="Seconds"}""==this.value?this.value=0:"";var c=parseInt(this.value);isNaN(c)||"undefined"==typeof this.minValue?(this.isOk=!1,b.addClass(this,"jns-cld_error")):(c<=this.minValue?c=this.minValue:"",c>=this.maxValue?c=this.maxValue:"",10>c?c="0"+c:"",b.removeClass(this,"jns-cld_error"),g.curDate01["set"+this.valueAttr](this.value=c),this.isOk=!0)},g.hourInput.onkeyup=g.minuteInput.onkeyup=g.secondInput.onkeyup=function(){var a=parseInt(this.value);isNaN(a)||"undefined"==typeof this.minValue||f.call(this)},g.hourInput.onkeydown=g.minuteInput.onkeydown=g.secondInput.onkeydown=function(a){a=a||window.event;var c=parseInt(this.value);38!=a.keyCode&&40!=a.keyCode||isNaN(c)||isNaN(this.maxValue)||(38==a.keyCode?(b.preventDefault(a),++c,c<=this.maxValue?this.value=(10>c?"0":"")+c:""):40==a.keyCode&&(b.preventDefault(a),--c,c>=this.minValue?this.value=(10>c?"0":"")+c:""))}},z=function(c){a.appendTarget.appendChild(e),f=!0,b.addClass(e,"jns-cld_cur"),e.srcTarget=c,w(),b.bind(window,"resize",w),b.bind(a.appendTarget,"scroll",w),setTimeout(function(){b.bind(document,"mousedown",B)},1);var d=b.format.toDate(c.value);c.value&&(d?(a.dateRangeEnd&&d>a.dateRangeEnd&&(d=a.dateRangeEnd,t(d,c)),a.dateRangeStart&&d<a.dateRangeStart&&(d=a.dateRangeStart,t(d,c)),"intervaltime"==a.type&&c==a.endDateInput?(g.curDate02=d,g.focusMonth=new Date(g.curDate02.getFullYear(),g.curDate02.getMonth()-1)):(g.curDate01=g.curDate02=d,g.focusMonth=new Date(g.curDate01.getFullYear(),g.curDate01.getMonth())),"dateTime"==a.type&&(g.hourInput.value=d.getHours()<10?"0"+d.getHours():d.getHours(),g.minuteInput.value=d.getMinutes()<10?"0"+d.getMinutes():d.getMinutes(),g.secondInput.value=d.getSeconds()<10?"0"+d.getSeconds():d.getSeconds())):1==c.noType&&"text"==c.type&&(c.value="")),x()},A=function(){f=!1,b.removeClass(e,"jns-cld_cur"),b.unbind(document,"mousedown",B),b.unbind(window,"resize",w),b.unbind(a.appendTarget,"scroll",w)},B=function(a){a=a||window.event;var c=document.elementFromPoint(a.clientX,a.clientY);b.isBelong(e,c)||c==e.srcTarget||A()},C=function(){var c;switch(typeof a.appendTarget){case"undefined":c=document.body;break;case"object":c=1==a.appendTarget.nodeType?a.appendTarget:document.body;break;case"string":c=b.selector(a.appendTarget),c.length?c=c[0]:"";break;default:c=document.body}a.appendTarget=c};return{setOption:function(c){if("object"!=typeof c)return this;if("string"==typeof c.type)switch(c.type.toLowerCase()){case"date":a.type="date";break;case"datetime":a.type="dateTime";break;case"intervaltime":a.type="intervalTime"}return"function"==typeof c.callback?a.callback=c.callback:"","function"==typeof c.onclean?a.onclean=c.onclean:"","function"==typeof c.onload?a.onload=c.onload:"","boolean"==typeof c.selectSameDate?a.selectSameDate=c.selectSameDate:"","undefined"!=typeof c.startDateInput?a.startDateInput=b.selector(c.startDateInput):"","undefined"!=typeof c.endDateInput?a.endDateInput=b.selector(c.endDateInput):"","undefined"!=typeof c.dateRangeStart?a.dateRangeStart=b.format.toDate(c.dateRangeStart):"","undefined"!=typeof c.dateRangeEnd?a.dateRangeEnd=b.format.toDate(c.dateRangeEnd):"","undefined"!=typeof c.abc?a.abc=c.abc:"","undefined"!=typeof c.zIndex?a.zIndex=c.zIndex:"",a.appendTarget="undefined"!=typeof c.appendTarget?c.appendTarget:document.body,"number"==typeof c.vDistance?a.vDistance=c.vDistance:"","undefined"!=typeof c.format?a.format=c.format:"",this},show:function(b){return b&&(C(),z(b),a.onload&&a.onload.call(e)),this},hide:function(){return C(),A(),this},getDate:function(){return"intervaltime"==a.type?[g.curDate01,g.curDate02]:g.curDate01},init:function(){return c&&this.setOption(c),a.dateRangeStart&&a.dateRangeEnd&&a.dateRangeStart>=a.dateRangeEnd?(b.console("jnsCalendar:允许时间区间设置错误，组件初始化失败"),this):(j.call(this),this)}}};
//# sourceMappingURL=map/jns_calendar.min.map