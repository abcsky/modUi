<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>表单控件</title>
<link rel="stylesheet" href="../../css/base.css?20140109">
<script type="text/javascript" src="temp/init.js?201407161047"></script>

</head>
<body>

<div class="mod-module" mod-title='表单控件'>

	<h2 class="ins">模块效果</h2>
	<div class="ins">
		<form id="form1" class="bottom10">
			<table class="mod-table_s0">
				<tr>
					<th>
						<label for="keyword">电影名称</label>
					</th>
					<td>
						<input id="keyword" width="200" name="keyword" type="text" value="速" mod-required="true"  mod-format="" mod-autocomplete="http://mod.jackness.org/api/autocompleteDemo" mod-method='get' mod-action-type='jsonp' mod-action-key="keyword">
					</td>
				</tr>
                <tr>
					<th>
						<label for="keyword">电影名称</label>
					</th>
					<td>
					    <input type="checkbox" name="wahaha" id="wahaha01" mod-title="你妹" />	
					    <input type="checkbox" name="wahaha" id="wahaha02" mod-title="你爸" />	
					</td>
				</tr>
				<tr>
					<th></th>
					<td>
						<input type="button" value="提交" mod-type="submit" />
						<input type="button" value="重置" mod-type="clear" />
					</td>
				</tr>
			</table>
		</form>
		<div id="searchResultGird"></div>
	</div>
	
	
	<h2 class="ins">HTML模板写法</h2>
	<p class="ins">使用 HTML模板编写 不用再执行JS,填上适当的参数即可自动生成。其中 <strong class="blue">mod-xxx</strong> 为 js方法中的参数，根据 "-"来区分单词 <br><span class="red">如 titleLeft 在html中为 mod-title-left 属性。</span></p>
	<p class="ins"><strong>当设置 <span class="blue">mod-seted="true"</span> 时将不会对其渲染。</strong></p>
	<pre class="brush:xml;">
&lt;form class="mod-form" mod-target="#searchResultGird" mod-target-config='{action:"http://lib9.service.kugou.com/websearch/index.php", actionParam:{"cmd":100, "keyword":"123", "page":1, "pagesize":20 }, actionType:"jsonp", method:"GET", dataKey:"data.songs", totalKey:"data.total"}' &gt;
	&lt;table class="mod-table_s0"&gt;
		&lt;tr&gt;
			&lt;th&gt;
				&lt;label for="keyword"&gt;关键字&lt;/label&gt;
			&lt;/th&gt;
			&lt;td&gt;
				&lt;input id="keyword" width="200" name="keyword" type="text" value="123" mod-required="true"  mod-format="" mod-autocomplete="http://mod.jackness.org/autocompleteDemo" mod-method='get' mod-action-type='jsonp' mod-action-key="keyword" &gt;
			&lt;/td&gt;
		&lt;/tr&gt;
		&lt;tr&gt;
			&lt;th&gt;&lt;/th&gt;
			&lt;td&gt;
				&lt;input type="button" value="提交" mod-type="submit" /&gt;
				&lt;input type="button" value="重置" mod-type="clear" /&gt;
			&lt;/td&gt;
		&lt;/tr&gt;
	&lt;/table&gt;			
&lt;/form&gt;			
	</pre>

	<h2 class="ins">Javascript写法</h2>
	<pre class="brush:js;">
//javascript
mod.form('#form1',{
    target:"#searchResultGird",
	targetConfig:{
		action:"http://mod.jackness.org/api/searchDemo", 
		actionParam:{
			"page":1, 
			"size":20 
		}, 
		actionType:"jsonp", 
		method:"GET", 
		dataKey:"data", 
		totalKey:"count",
        layout:[
            {
                name: '封面',
                field: 'img',
                html: '<img src="{$img}" width="100" height="150" />',
                width: '100'
            },{
                name: '电影名称',
                field: 'title',
                width: '80'
            },{
                name: '别名',
                field: 'otherName'
            },{
                name: '年份',
                field: 'year',
                width: '30'
            },{
                name: '地区',
                field: 'area'
            },{
                name:'演员列表',
                field: 'actress'
            },{
                name: '豆瓣评分',
                field: 'mark',
                width: '60'
            }
        ]
	},
    search: true,
    onerror: function(arrs){
        alert('err!')
        console.log(arrs);
    }
});
	</pre>
</div>
	

	

</body>
</html>
<script type="text/javascript" src="../../js/mod-config.js?201407161047"></script>
<script>

mod.form('#form1',{
    target:"#searchResultGird",
	targetConfig:{
		action:"http://mod.jackness.org/api/searchDemo", 
		actionParam:{
			"page":1, 
			"size":20 
		}, 
		actionType:"jsonp", 
		method:"GET", 
		dataKey:"data", 
		totalKey:"count",
        layout:[
            {
                name: '封面',
                field: 'img',
                html: '<img src="{$img}" width="100" height="150" />',
                width: '100'
            },{
                name: '电影名称',
                field: 'title',
                width: '80'
            },{
                name: '别名',
                field: 'otherName'
            },{
                name: '年份',
                field: 'year',
                width: '30'
            },{
                name: '地区',
                field: 'area'
            },{
                name:'演员列表',
                field: 'actress'
            },{
                name: '豆瓣评分',
                field: 'mark',
                width: '60'
            }
        ]
	},
    search: true,
    onerror: function(arrs){
        alert('err!')
        console.log(arrs);
    }
});

</script>



